<!-- 
	Thanks to Bootstrap's starter template 
	https://getbootstrap.com/docs/4.0/examples/starter-template/
	
	Thanks to Baeldung's guide on Thymeleaf + Spring Security 
	https://www.baeldung.com/csrf-thymeleaf-with-spring-security
	
	Thanks to Baeldung's Login For a Spring Web App â€“ Error Handling and Localization
	https://www.baeldung.com/spring-security-login-error-handling-localization
-->
<!doctype html>
<html xmlns:th="http://thymeleaf.org">

  <head>
    <title>WeApp Login</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/login.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>
    <script src="/js/login.js"></script>
  </head>

  <body class="text-center">
    <nav class="navbar navbar-expand-lg fixed-top" style="background-color: #e3f2fd;">
      <a class="navbar-brand" href="/">
        <img src="/images/logo_cropped.png" id="logo" class="d-inline-block align-top" alt="">
        WeApp
      </a>
      <div class="collapse navbar-collapse" id="navbarTogglerDemo03">
        <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
          <li class="nav-item active">
            <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
          </li>
        </ul>
      </div>
    </nav>
    <div class="container">
      <form action="" method="post" class="form-signin">
        <img class="mb-4" src="/images/logo.png" alt="" width="150" height="150">
        <h1 class="h3 mb-3 font-weight-normal">Please sign in</h1>
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <!-- use param.error assuming FormLoginConfigurer#failureUrl contains the query parameter error -->
        <div th:if="${param.error != null}" class="alert alert-danger" role="alert">
          Failed to login.
          <div th:if="${SPRING_SECURITY_LAST_EXCEPTION != null}">
            Reason: <span th:text="${SPRING_SECURITY_LAST_EXCEPTION.message}"></span>]
          </div>
        </div>
        <!-- the configured LogoutConfigurer#logoutSuccessUrl is /login?logout and contains the query param logout -->
        <div th:if="${param.logout != null}" class="alert alert-success" role="alert">
          You have been logged out.
        </div>
        <label for="username" class="sr-only">Username</label>
        <input type="text" id="username" name="username" class="form-control" placeholder="Email address" required autofocus>
        <label for="password" class="sr-only">Password</label>
        <input type="password" id="password" name="password" class="form-control" placeholder="Password" required>
        <div class="mt-5">
          <button type="submit" class="btn btn-primary">Log in</button>
          <button id="register" type="button" class="btn btn-secondary">Create an Account</button>
        </div>
      </form>
      <p class="mt-5 mb-3 text-muted">&copy; 2020 JoJo Technology</p>
    </div>
  </body>

</html>
